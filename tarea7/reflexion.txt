En esta tarea se extendió el microservicio de libros para soportar la gestión de imágenes integrada con almacenamiento en la nube. Se añadió la lógica para recibir ficheros multipart desde la interfaz, validarlos (tipo y tamaño), asignar nombres únicos y subirlos a Azure Blob Storage, además de registrar la información relevante en la base de datos (URL, blob name, tamaño, tipo MIME y timestamp). La UI fue adaptada para permitir la creación y edición de libros incluyendo hasta 5 imágenes por entrada, y la API expone endpoints completos para crear, actualizar, listar y eliminar libros junto con sus imágenes.

Durante el desarrollo se enfrentaron y resolvieron varios retos técnicos: garantizar la consistencia entre el blob almacenado y el registro en la BD (implementando borrado/reversión si falla la inserción en la BD), generar nombres únicos para evitar colisiones y validar preventivamente archivos excesivamente grandes o con extensiones no permitidas. También se integró Swagger para documentar la API, se añadió manejo de CORS y un decorador JWT para proteger rutas, y se consideró el caso en que el cliente de Azure no pueda firmar (dejando mensajes informativos y comprobaciones al arrancar la app).

Como lecciones y próximos pasos se recomiendan: añadir pruebas automatizadas (unitarias e integración con Azurite), instrumentación mínima (logs y métricas de subida/errores), limpieza/retención de blobs antiguos y políticas de tamaño/compresión para optimizar coste y latencia. Además, es aconsejable añadir ejemplos de uso y scripts de despliegue (variables de entorno y migraciones SQL) para facilitar pruebas y despliegues reproducibles.
